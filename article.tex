\RequirePackage[l2tabu,orthodox]{nag}
\documentclass[a4paper]{article}
\bibliographystyle{plain}

\pdfoutput=1

\usepackage{rwd-drafting}

\input{preamble.tex}
%%% some diagrams we won;t need in this papaer
%\input{tikzpreamble.tex}
%\input{quantumcircuits.tex}

\input{front-matter.tex}




\begin{document}
% For article.cls abstract goes here 
% other classes may have it in front-matter
\maketitle
\input{abstract.tex}


\section{Introduction}
\label{sec:intro}

\section{Mathematical Preliminaries}
\label{sec:prelim}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%        2-CATEGORY DEFINITION        %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{2-Category}

A \emph{strict} 2-category \catC is a category \emph{enriched over \textbf{Cat}}, the category of categories.

\begin{itemize}
\item objects are natural number $\mathbb{N}$, called \emph{0-cells}
\item for all 0-cells $(a, b)$, a category $\catC(a, b)$ with
\begin{itemize}
\item objects $f: a \to b$, called \emph{1-cells}
\item morphisms are called \emph{2-cells}
\item for all 2-cells $r: f \Rightarrow g$ and $s: g \Rightarrow h$, a composition operator $r \bullet s: f \Rightarrow h$ called \emph{vertical composition}
\end{itemize}
\item for all 0-cells $a$ and all 1-cells $f: a \to a \in \catC(a, a)$, there is an identity 2-cell $r: f \Rightarrow f$, written $Id_f$
\item for all 0-cells $(a, b, c)$ a bifunctor $\circ: \catC(b, c) \times \catC(a, b) \to \catC(a, c)$ called \emph{horizontal composition}
\end{itemize}

In the following we'll always write $a, b, c$ for \emph{0-cells}, $f, g, h$ for \emph{1-cells} and $r, s, t$ for \emph{2-cells}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%        MONOIDAL 2-CATEGORY DEFINITION        %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Monoidal 2-category}

A \emph{strict} monoidal 2-category $(\catC, \otimes)$ is a strict 2-category with

\begin{itemize}
\item a 2-bifunctor $\otimes: \catC \times \catC \to \catC$ such that on 2-cells $r, s, t, u$
\[
(r \otimes s) \circ (t \otimes u) = (r \circ t) \otimes (s \circ u)
\]
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%        INTERCHANGE LAW REMARK        %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{remark}[Interchange law]
Because $\circ$ and $\otimes$ are bifunctor, for all 0-cells $a, b \in \catC$ and all 2-cells $r, s, t, u \in \catC(a, b)$

\begin{align}
(r \circ s) \bullet (t \circ u) &= (r \bullet t) \circ (s \bullet u) \cr
(r \otimes s) \bullet (t \otimes u) &= (r \bullet t) \otimes (s \bullet u)
\end{align}
\end{remark}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%        QUANTALE DEFINITION        %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Quantale}

A quantale $\mathbb{Q}$, over a \emph{group}, is a monoidal category

\begin{itemize}
\item objects are elements of a lattice $L$
\item for all objects $(x, y)$ there is a morphism between $x$ and $y$ iff $x \succeq y$ in $L$.
\item a unit objet $e \in L$
\item a monoidal operator $\oplus: Q \times Q \to Q$
\end{itemize}

\noindent such that for all $x, y \in L$ and $\{x_i\}_i, \{y_i\}_i \subseteq L$
\begin{align}
x \oplus \bigvee y_i &= \bigvee x \oplus y_i \cr
\left(\bigvee x_i\right) \oplus y &= \bigvee x_i \oplus y
\end{align}

We require that for all objects $x$ of $\mathbb{Q}$, it exist an object $x^{-1}$ such that
\begin{align}
x \oplus x^{-1} &= e \cr
x^{-1} \oplus x &= e
\end{align}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%        Q-ENRICHED CATEGORY DEFINITION        %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{$\mathbb{Q}$-enriched category}

A $\mathbb{Q}$-enriched category \catE is

\begin{itemize}
\item A set of objects
\item For all objects $(a, b)$, $\catE(a, b) \in \mathbb{Q}$
\end{itemize}

such that for all object $a$
\[
e \succeq \catE(a, a)
\]
for all objects (a, b, c)
\[
\catE(b, c) \oplus \catE(a, b) \succeq \catE(a, c)
\]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%        MONOIDAL Q-ENRICHED CATEGORY DEFINITION        %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Monoidal $\mathbb{Q}$-enriched category}

$(E, \otimes)$ is strictly monoidal if
\[
\catE(a, b) \oplus \catE(a', b') \succeq \catE(a \otimes a', b \otimes b')
\]
and symmetric if
\[
e \succeq \catE(a \otimes b, b \otimes a)
\]

\section{Rewriting systems as 2-PROPS}
\label{sec:rewriting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%        REWRITING SYSTEM        %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
A \emph{groupoid} is a category where morphisms are invertible.
Let's define the following strict monoidal 2-groupoid \catC

\begin{itemize}
\item 0-cells are natural number $\mathbb{N}$
\item 1-cells are quantum circuits freely generated by $\circ$, $\otimes$ and $\{f_i\}_i$, a set of quantum circuits
\item 2-cells are quantum circuit transformations freely generated by $\circ$, $\otimes$ and $\{r_i\}_i$, a set of ransformations, such that $\forall r: f \Rightarrow g \in \{r_i\}_i, \exists r^{-1}: g \Rightarrow f \in \{r_i\}_i$
\[
r \circ r^{-1} = id_f
\]
\item the vertical composition is the usual transformations composition
\item the horizontal composition is the usual circuits composition
\item the 2-bifunctor is
\begin{itemize}
\item on 0-cell, $a \otimes b = a + b$
\item on $\catC(a, b)$, a functor $C(a, b) \otimes C(a', b') \to C(a + a', b + b')$
\end{itemize}
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%        REWRITING SYSTEM PROPOSITION 1        %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{proposition}
For all transformation $r: f \Rightarrow g$, $r$ can be writen
\[
r = r_1 \bullet r_2 \bullet r_3 \bullet \cdots \bullet r_i
\]

\begin{proof}
We'll prove it by induction of the size of the transformation using the properties of the bifunctors.
With a single transformation, we already have
\[
r = r_1
\]
For the inductive step let's assume $r$ is
\[
r = r_1 \bullet r_2 \bullet r_3 \bullet \cdots \bullet s
\]
If $s$ is such that
\[
s = (s_1 \bullet s_2) \circ (s_3 \bullet s_4)
\]
Then using the interchange law we can write
\[
s = (s_1 \circ s_3) \bullet (s_2 \circ s_4)
\]
So we have 
\begin{align}
r &= r_1 \bullet r_2 \bullet r_3 \bullet \cdots \bullet (s_1 \circ s_3) \bullet (s_2 \circ s_4) \cr
r &= r_1 \bullet r_2 \bullet r_3 \bullet \cdots \bullet r_{i - 1} \bullet r_i
\end{align}
Otherwise we can always add an identity transformation to get the interchange law.
\begin{align}
s_1 \circ (s_3 \bullet s_4) &\Rightarrow (s_1 \bullet id) \circ (s_2 \bullet s_3) \cr
(s_1 \bullet s_2) \circ s_3 &\Rightarrow (s_1 \bullet s_2) \circ (id \bullet s_3)
\end{align}
The same is true with
\[
s = (s_1 \bullet s_2) \otimes (s_3 \bullet s_4)
\]
\end{proof}
\end{proposition}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%        REWRITING SYSTEM PROPOSITION 2        %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{proposition}
For all transformation $r: f \Rightarrow g$, $r$ can be writen
\begin{align}
r &= r_1 \circ r_2 \circ r_3 \circ \cdots \circ r_j \cr
r &= r_1 \otimes r_2 \otimes r_3 \otimes \cdots \otimes r_k
\end{align}

\begin{proof}
The proof is the same but this time we have to use
\[
(r \otimes s) \circ (t \otimes u) = (r \circ t) \otimes (s \circ u)
\]
\end{proof}
\end{proposition}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%        REWRITING SYSTEM PROPOSITION 2 COROLLARY        %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{corollary}
For all transformation $r: f \Rightarrow g$, $r$ can be writen
\[
r = r_1 \bullet r_2 \bullet r_3 \bullet \cdots \bullet r_i
\]
Such that for all $i$
\[
r_i = r_{i, 1} \circ r_{i, 2} \circ r_{i, 3} \circ \cdots \circ r_{i, j}
\]
and for all $j$
\[
r_{i, j} = \bigotimes_k^l r_{i, j, k}
\]
a tensor products of transformations.
\end{corollary}


\section{$\mathbb{Q}$-valued rewriting systems}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%        HOMOMORPHISM        %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{$\catC(a, b)$ to $\mathbb{Q}$ homomorphism}

Let's define the following homomorphism $F$ from $\catC(a, b)$ to $\mathbb{Q}$. For all $f: a \to b \in \{f_i\}_i$
\[
F(f) \in L
\]
For all $r: f \Rightarrow g \in \{r_i\}_i$
\[
F(r) = F(f) \oplus F(g)^{-1}
\]

On 1-cells
\begin{align}
F(f \circ g) &\preceq F(f) \oplus F(g) \cr
F(f \otimes g) &\preceq F(f) \oplus F(g)
\end{align}

On 2-cells
\begin{align}
F(r \circ s) &= F(r) \oplus F(s) \cr
F(r \otimes s) &= F(r) \oplus F(s) \cr
F(r \bullet s) &= F(r) \oplus F(s)
\end{align}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%        HOMOMORPHISM REMARK        %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{remark}
Note that because
\[
F(r: f \Rightarrow g) = F(f) \oplus F(g)^{-1}
\]
then
\begin{align}
F(r: f \Rightarrow f) &= F(f) \oplus F(f)^{-1} \cr
&= e
\end{align}
that is
\begin{align}
\forall f, F(id_f) = e
\end{align}
\end{remark}


\section{Conclusions and further work}
\label{sec:conclusion}



\small
\bibliography{all}


\end{document}
